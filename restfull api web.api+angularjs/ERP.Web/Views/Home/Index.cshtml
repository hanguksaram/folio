<!DOCTYPE html>
<html ng-app="ERPApp" ng-controller="MainController">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}} – Velvetech ERP</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/datatables")
    @Scripts.Render("~/bundles/angular")
    <base href="/" />
</head>
    <body class="skin-blue">       
        <nav class="navbar navbar-default navbar-fixed-top" role="navigation" style="padding: 0px; margin: 0px;">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#">Velvetech ERP</a>
                </div>
                <div id="navbar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li data-ng-repeat="nav in navBars" class="{{nav.active}}" ng-class="{'dropdown' : nav.isSub}">
                            <a ng-show="!nav.isSub" href="{{nav.url}}"><i class="{{nav.icon}}"></i> {{ nav.name }}</a>
                        
                            <a ng-show="nav.isSub" href="#" class="dropdown-toggle" data-toggle="dropdown">{{nav.name}} <span class="caret"></span></a>
                            <ul ng-show="nav.isSub" class="dropdown-menu" role="menu">
                                <li ng-repeat="sub in nav.data">
                                    <a href="{{sub.url}}"><i class="{{sub.icon}}"></i> {{ sub.name }}</a>
                                </li>
                            </ul>                        
                        </li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Welcome, <bold>DEVELOPER</bold> <span class="caret"></span></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="#" onclick="$('#modalChangePassword').modal('show')">Change Password</a></li>
                                <li><a href="/logout">Logout</a></li>                          
                            </ul>    
                        </li>
                    </ul>
                </div><!--/.nav-collapse -->
            </div>
        </nav>
        <div ng-http-loader template="/Content/loader.tpl.html"></div>

        <div class="container-fluid" style="padding: 0px;margin-top: -10px;">
            <ol class="breadcrumb">
                <li ng-repeat="b in breadcrumbs">
                    <a ng-href="{{b.Url}}">{{b.Name}}</a>
                </li>
                <li class="active">{{activeBreadcrumb}}</li>
            </ol>
        </div>

        <div class="container-fluid view-animate-container">

            <div ng-view class="at-view-fade-in at-view-fade-out">
                @{ Html.RenderAction("User", "Dashboard"); }
            </div>

        </div> <!-- /container -->

        <div class="navbar-bottom row-fluid text-center">
            <div class="navbar-inner">
                <div class="container footer text-muted">
                    &copy; @DateTime.Now.Year – Velvetech ERP
                </div>
            </div>
        </div>
        
        <input type="hidden" value="@ViewBag.IsA" id="isA" />
        <script>
            window.userName = 'Developer'
        </script>

        
        <div class="modal" tabindex="-1" role="dialog" id="modalChangePassword" data-backdrop="static" shadow="modalChangePassword">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Change Password</h4>
                </div>
                <div class="modal-body">
                    <form class="container-fluid row-pad" name="ChangePasswordForm">
                        <div class="row">
                            <div class="col-md-4 no-lr-padding">
                                <label for="oldPassword" class="control-label">Old Password</label>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <input type="password" name="oldPassword" tabindex="2" class="form-control" placeholder="Old Password" ng-model="oldPassword" required>
                                </div>
                            </div>
                         
                        </div>

                        <div class="row">
                            <div class="col-md-4 no-lr-padding">
                                <label for="newPassword" class="control-label">New Password</label>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <input type="password" name="newPassword" tabindex="2" class="form-control" placeholder="New Password" ng-model="newPassword" required>
                                </div>
                            </div>
                         
                        </div>

                        <div class="row">
                            <div class="col-md-4 no-lr-padding">
                                <label for="confirmedNewPassword" class="control-label">Confirm New Password</label>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <input type="password" name="confirmedNewPassword" tabindex="2" class="form-control" placeholder="New Password" ng-model="confirmedNewPassword" required>
                                </div>
                            </div>
                         
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default pull-left" data-dismiss="modal"><i class="fa fa-ban"></i> Cancel</button>
                    <a data-ng-disabled="ChangePasswordForm.$invalid" type="button" class="btn btn-primary" ng-click="changePassword(oldPassword,newPassword,confirmedNewPassword)"><i class="fa fa-check"></i> Change Password</a>
                </div>
            </div>
        </div>
    </div>


    </body>
</html>
